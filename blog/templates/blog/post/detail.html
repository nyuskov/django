{% extends 'blog/base.html' %}
{% load i18n %}
{% load blog_tags %}

{% block title %}
  {{ post.title }}
{% endblock %}

{% block blog_content %}
  <h1>{{ post.title }}</h1>
  <p class="date">
    {% trans 'Published' %} {{ post.publish }} {% trans 'by' %} {{ post.author }}
  </p>
  <p>{{ post.body|markdown }}</p>
  <p>
    <a href="{% url 'blog:post_share' post.id %}" class="link">{% trans 'Share this post' %}</a>
  </p>

  <h2>{% trans 'Similar posts' %}</h2>
  {% for post in similar_posts %}
    <p>
      <a href="{{ post.get_absolute_url }}" class="link">{{ post.title }}</a>
    </p>
  {% empty %}
    <p>
      {% trans 'There are no similar posts yet.' %}
    </p>
  {% endfor %}

  <h2>{% blocktrans count comments.count as total_comments %}{{ total_comments }} comment{% plural %}{{ total_comments }} comments{% endblocktrans %}</h2>
  {% for comment in comments %}
    <div class="comment">
      <p class="info">
        {% trans 'Comment' %} {{ forloop.counter }} {% trans 'by' %} {{ comment.name }}
        {{ comment.created }}
      </p>
      {{ comment.body|linebreaks }}
    </div>
  {% empty %}
    <p>
      {% trans 'There are no comments' %}.
    </p>
  {% endfor %}
  {% include 'blog/post/includes/comment_form.html' %}
{% endblock %}
